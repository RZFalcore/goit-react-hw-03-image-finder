{"version":3,"sources":["Components/App/App.module.css","Components/App/ImageGallery/ImageGallery.module.css","Components/App/Button/Button.module.css","Components/App/Searchbar/Searchbar.module.css","Components/App/Searchbar/Searchbar.js","Components/App/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/App/ImageGallery/ImageGallery.js","Components/App/Button/Button.js","Components/App/Modal/Modal.js","services/imageApi.js","utils/imageDataMapper.js","Components/App/App.js","index.js","Components/App/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/App/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","onChange","value","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","placeholder","ImageGalleryItem","url","onOpenModal","onClick","onKeyPress","role","tabIndex","src","alt","ImageGalleryItemImage","ImageGallery","images","onModalImgSelect","map","id","webformatURL","key","Button","onLoadMoreImgs","Modal","overlayRef","createRef","handleEscapePress","e","props","onModalClose","handleOverlayClick","current","target","window","addEventListener","this","removeEventListener","img","Overlay","PureComponent","fetchImages","query","page","axios","get","then","data","hits","catch","err","Error","imageDataMapper","imgs","largeImageURL","App","state","selectedImage","isLoading","openModal","handleSearchQuery","setState","handleSearchSubmit","preventDefault","handleFetch","length","mappedData","handleModalImageSelection","filter","handleModal","handleLoadMoreImgs","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","loaderWrap","color","height","width","visible","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.12c7849d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__27lx2\",\"loaderWrap\":\"App_loaderWrap__1WTz5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3mxJX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__IEmP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2oKTN\",\"SearchForm\":\"Searchbar_SearchForm__2RKnY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1zJNF\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__20Ohz\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1fyAM\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onSubmit, onChange, value }) => (\n  <header className={styles.Searchbar}>\n    <form className={styles.SearchForm} onSubmit={onSubmit}>\n      <button type=\"submit\" className={styles.SearchFormButton}>\n        <span className={styles.SearchFormButtonLabel}>Search</span>\n      </button>\n\n      <input\n        className={styles.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search images and photos\"\n        value={value}\n        onChange={onChange}\n      />\n    </form>\n  </header>\n);\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n\nexport default Searchbar;\n","/* eslint-disable jsx-a11y/no-noninteractive-element-to-interactive-role */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ url, onOpenModal }) => (\n  <li\n    className={styles.ImageGalleryItem}\n    onClick={onOpenModal}\n    onKeyPress={onOpenModal}\n    role=\"button\"\n    tabIndex={0}\n  >\n    <img src={url} alt=\"\" className={styles.ImageGalleryItemImage} />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\n\nimport styles from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, onModalImgSelect }) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({ id, webformatURL }) => (\n      <ImageGalleryItem\n        key={id}\n        url={webformatURL}\n        onOpenModal={() => onModalImgSelect(id)}\n      />\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  onModalImgSelect: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ onLoadMoreImgs }) => (\n  <button className={styles.Button} type=\"button\" onClick={onLoadMoreImgs}>\n    Load more\n  </button>\n);\nButton.propTypes = {\n  onLoadMoreImgs: PropTypes.func.isRequired,\n};\nexport default Button;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { PureComponent, createRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport styles from \"./Modal.module.css\";\n\nexport default class Modal extends PureComponent {\n  overlayRef = createRef();\n\n  static propTypes = {\n    img: PropTypes.string.isRequired,\n    onModalClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleEscapePress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleEscapePress);\n  }\n\n  handleEscapePress = e => {\n    if (e.key !== \"Escape\") return;\n    this.props.onModalClose();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n    if (current && e.target !== current) return;\n    this.props.onModalClose();\n  };\n\n  render() {\n    const { img } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        role=\"button\"\n        tabIndex={0}\n        onClick={this.handleOverlayClick}\n      >\n        <div className={styles.Modal}>\n          <img src={img} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nconst key = \"13203870-f88321e1576e2ee35198d8add\";\n\nconst fetchImages = (query, page = 1) => {\n  const url = `https://pixabay.com/api/?key=${key}&q=${query}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return axios\n    .get(url)\n    .then(data => data.data.hits)\n    .catch(err => {\n      throw new Error(err);\n    });\n};\n\nexport default fetchImages;\n","const imageDataMapper = imgs => {\n  return imgs.map(({ id, webformatURL, largeImageURL }) => {\n    return { id, webformatURL, largeImageURL };\n  });\n};\n\nexport default imageDataMapper;\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport Modal from \"./Modal/Modal\";\n\nimport fetchImages from \"../../services/imageApi\";\nimport imageDataMapper from \"../../utils/imageDataMapper\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport styles from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    images: [],\n    selectedImage: \"\",\n    isLoading: false,\n    openModal: false,\n  };\n\n  componentDidMount() {\n    this.handleFetch();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n\n    if (prevState.page !== page) {\n      fetchImages(query.length === 0 ? \"cat\" : query, page)\n        .then(data => imageDataMapper(data))\n        .then(mappedData => {\n          return this.setState(state => ({\n            images: [...state.images, ...mappedData],\n            isLoading: false,\n          }));\n        })\n        .catch(err => {\n          throw new Error(err);\n        });\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  handleSearchQuery = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSearchSubmit = e => {\n    e.preventDefault();\n    this.handleFetch();\n  };\n\n  handleFetch = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n\n    fetchImages(query.length === 0 ? \"cat\" : query, page)\n      .then(data => imageDataMapper(data))\n      .then(mappedData => {\n        return this.setState({\n          images: mappedData,\n          isLoading: false,\n        });\n      })\n      .catch(err => {\n        throw new Error(err);\n      });\n  };\n\n  handleModalImageSelection = id => {\n    const { images } = this.state;\n    const selectedImage = images.filter(img => img.id === id)[0];\n    this.setState({\n      selectedImage: selectedImage.largeImageURL,\n      openModal: true,\n    });\n  };\n\n  handleModal = () => {\n    this.setState(state => ({ openModal: !state.openModal }));\n  };\n\n  handleLoadMoreImgs = () => {\n    this.setState(state => ({ page: state.page + 1, isLoading: true }));\n  };\n\n  render() {\n    const { query, images, selectedImage, isLoading, openModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar\n          onSubmit={this.handleSearchSubmit}\n          onChange={this.handleSearchQuery}\n          value={query}\n        />\n        <ImageGallery\n          images={images}\n          onModalImgSelect={this.handleModalImageSelection}\n        />\n        {images.length > 0 && (\n          <Button onLoadMoreImgs={this.handleLoadMoreImgs} />\n        )}\n        <div className={styles.loaderWrap}>\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={40}\n            width={60}\n            visible={isLoading}\n          />\n        </div>\n        {openModal && (\n          <Modal img={selectedImage} onModalClose={this.handleModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App/App\";\nimport \"./style.module.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3VHq2\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__36E4P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__uCTck\",\"Modal\":\"Modal_Modal__20fg5\"};"],"sourceRoot":""}